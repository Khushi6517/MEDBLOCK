{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Khushi Singh/OneDrive/Desktop/Medicator-master/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Khushi Singh/OneDrive/Desktop/Medicator-master/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Khushi Singh/OneDrive/Desktop/Medicator-master/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import\"./Header.css\";import{Link,useHistory}from\"react-router-dom\";import{useAuth}from\"../../../Context/Context\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Header=function Header(){var history=useHistory();var _useState=useState(true),_useState2=_slicedToArray(_useState,2),scrolled=_useState2[0],setScrolled=_useState2[1];var _useState3=useState(\"/\"),_useState4=_slicedToArray(_useState3,2),route=_useState4[0],setRoute=_useState4[1];var _useAuth=useAuth(),logout=_useAuth.logout,currentUser=_useAuth.currentUser;var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),user=_useState6[0],setUser=_useState6[1];useEffect(function(){setRoute(window.location.pathname);var updateNavbarColor=function updateNavbarColor(){if(document.documentElement.scrollTop>10||document.body.scrollTop>10){setScrolled(false);}else if(document.documentElement.scrollTop<11||document.body.scrollTop<11){setScrolled(true);}};window.addEventListener(\"scroll\",updateNavbarColor);return function cleanup(){window.removeEventListener(\"scroll\",updateNavbarColor);};});useEffect(function(){setUser(currentUser);},[]);var handleLogout=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return logout();case 2:history.push(\"/\");case 3:case\"end\":return _context.stop();}}},_callee);}));return function handleLogout(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"header\",style:{background:route===\"/\"?\"transparent\":\"#59aabe\",color:\"#ffffff\"},children:[/*#__PURE__*/_jsx(\"h1\",{children:/*#__PURE__*/_jsx(Link,{to:route.includes(\"/manufacturer\")?\"/manufacturer\":route.includes(\"/hospital\")?\"/hospital\":route.includes(\"/know_your_medicine\")?\"/\":\"/\",style:{color:\"inherit\",textDecoration:\"none\"},children:\"MEDBLOCK\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"header__right\",children:[route===\"/\"&&/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/login\",style:{color:\"#ffffff\",textDecoration:\"none\"},children:\"Login\"})}),route===\"/\"&&/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/signup\",style:{color:\"#ffffff\",textDecoration:\"none\"},children:\"Signup\"})}),route.includes(\"/manufacturer\")&&/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/manufacturer/create_record\",style:{color:\"#ffffff\",textDecoration:\"none\"},children:\"Create Record\"})}),route.includes(\"/hospital\")&&/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/hospital/scan_vaccine\",style:{color:\"#ffffff\",textDecoration:\"none\"},children:\"Scan Vaccine\"})}),(route.includes(\"/manufacturer\")||route.includes(\"/hospital\"))&&/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\".concat(route.includes(\"/manufacturer\")?\"manufacturer\":\"hospital\",\"/history\"),style:{color:\"#ffffff\",textDecoration:\"none\"},children:\"My History\"})}),(route.includes(\"/manufacturer\")||route.includes(\"/hospital\"))&&/*#__PURE__*/_jsx(\"p\",{onClick:handleLogout,style:{color:\"#ffffff\"},children:\"Logout\"})]})]});};","map":{"version":3,"sources":["C:/Users/Khushi Singh/OneDrive/Desktop/Medicator-master/frontend/src/Components/utils/Header/Header.js"],"names":["React","useState","useEffect","Link","useHistory","useAuth","Header","history","scrolled","setScrolled","route","setRoute","logout","currentUser","user","setUser","window","location","pathname","updateNavbarColor","document","documentElement","scrollTop","body","addEventListener","cleanup","removeEventListener","handleLogout","push","background","color","includes","textDecoration"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./Header.css\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { useAuth } from \"../../../Context/Context\";\n\nexport const Header = () => {\n  const history = useHistory();\n  const [scrolled, setScrolled] = useState(true);\n  const [route, setRoute] = useState(\"/\");\n  const { logout, currentUser } = useAuth();\n  const [user, setUser] = useState({});\n\n  useEffect(() => {\n    setRoute(window.location.pathname);\n    const updateNavbarColor = () => {\n      if (\n        document.documentElement.scrollTop > 10 ||\n        document.body.scrollTop > 10\n      ) {\n        setScrolled(false);\n      } else if (\n        document.documentElement.scrollTop < 11 ||\n        document.body.scrollTop < 11\n      ) {\n        setScrolled(true);\n      }\n    };\n\n    window.addEventListener(\"scroll\", updateNavbarColor);\n\n    return function cleanup() {\n      window.removeEventListener(\"scroll\", updateNavbarColor);\n    };\n  });\n  useEffect(() => {\n    setUser(currentUser);\n  }, []);\n  const handleLogout = async () => {\n    await logout();\n    history.push(\"/\");\n  };\n  return (\n    <div\n      className=\"header\"\n      style={{\n        background: route === \"/\" ? \"transparent\" : \"#59aabe\",\n        color: \"#ffffff\",\n      }}\n    >\n      <h1>\n        <Link\n          to={\n            route.includes(\"/manufacturer\")\n              ? \"/manufacturer\"\n              : route.includes(\"/hospital\")\n              ? \"/hospital\"\n              : route.includes(\"/know_your_medicine\")\n              ? \"/\"\n              : \"/\"\n          }\n          style={{ color: \"inherit\", textDecoration: \"none\" }}\n        >\n          MEDBLOCK\n        </Link>\n      </h1>\n      <div className=\"header__right\">\n        {route === \"/\" && (\n          <p>\n            <Link\n              to=\"/login\"\n              style={{ color: \"#ffffff\", textDecoration: \"none\" }}\n            >\n              Login\n            </Link>\n          </p>\n        )}\n        {route === \"/\" && (\n          <p>\n            <Link\n              to=\"/signup\"\n              style={{ color: \"#ffffff\", textDecoration: \"none\" }}\n            >\n              Signup\n            </Link>\n          </p>\n        )}\n        {route.includes(\"/manufacturer\") && (\n          <p>\n            <Link\n              to=\"/manufacturer/create_record\"\n              style={{\n                color: \"#ffffff\",\n                textDecoration: \"none\",\n              }}\n            >\n              Create Record\n            </Link>\n          </p>\n        )}\n        {route.includes(\"/hospital\") && (\n          <p>\n            <Link\n              to=\"/hospital/scan_vaccine\"\n              style={{\n                color: \"#ffffff\",\n                textDecoration: \"none\",\n              }}\n            >\n              Scan Vaccine\n            </Link>\n          </p>\n        )}\n        {(route.includes(\"/manufacturer\") || route.includes(\"/hospital\")) && (\n          <p>\n            <Link\n              to={`/${\n                route.includes(\"/manufacturer\") ? \"manufacturer\" : \"hospital\"\n              }/history`}\n              style={{\n                color: \"#ffffff\",\n                textDecoration: \"none\",\n              }}\n            >\n              My History\n            </Link>\n          </p>\n        )}\n        {(route.includes(\"/manufacturer\") || route.includes(\"/hospital\")) && (\n          <p onClick={handleLogout} style={{ color: \"#ffffff\" }}>\n            Logout\n          </p>\n        )}\n      </div>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}