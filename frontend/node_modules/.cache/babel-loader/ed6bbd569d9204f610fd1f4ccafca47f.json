{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Khushi Singh/OneDrive/Desktop/Medicator-master/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"C:/Users/Khushi Singh/OneDrive/Desktop/Medicator-master/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"C:/Users/Khushi Singh/OneDrive/Desktop/Medicator-master/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Khushi Singh/OneDrive/Desktop/Medicator-master/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from\"axios\";import React,{useState,useEffect}from\"react\";import{Header}from\"../../utils/Header/Header\";import{Record_Block}from\"../../utils/Record_Block/Record_Block\";import\"./Create_Record.css\";import{useAuth}from\"../../../Context/Context\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var Create_Record=function Create_Record(){var _useAuth=useAuth(),currentUser=_useAuth.currentUser;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),records=_useState2[0],setRecords=_useState2[1];useEffect(function(){axios.post(\"/backend/history\",{uid:currentUser.uid,type:\"manufacturer\"}).then(function(res){setRecords(res.data);}).catch(function(err){});},[]);var submitRecord=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(record){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(\"/backend/vaccreate\",{uid:currentUser.uid,vaccine_name:record.vaccine_name,manufacturing_date:record.manufacturing_date,expiry_date:record.expiry_date,MRP:record.MRP,private_key:record.private_key}).then(function(res){var r={date:record.manufacturing_date,expiry:record.expiry_date,mrp:record.MRP,name:record.vaccine_name};setRecords([].concat(_toConsumableArray(records),[r]));}).catch(function(err){});case 2:case\"end\":return _context.stop();}}},_callee);}));return function submitRecord(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"create_record\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"CREATE NEW RECORD\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"create_record_content\",children:[records.map(function(record,idx){return/*#__PURE__*/_jsx(Record_Block,{type:\"show\",detail:record},idx);}),/*#__PURE__*/_jsx(Record_Block,{type:\"add\",submit:submitRecord})]})]})]});};","map":{"version":3,"sources":["C:/Users/Khushi Singh/OneDrive/Desktop/Medicator-master/frontend/src/Components/Pages/Create_Record/Create_Record.jsx"],"names":["axios","React","useState","useEffect","Header","Record_Block","useAuth","Create_Record","currentUser","records","setRecords","post","uid","type","then","res","data","catch","err","submitRecord","record","vaccine_name","manufacturing_date","expiry_date","MRP","private_key","r","date","expiry","mrp","name","map","idx"],"mappings":"iuBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,MAAT,KAAuB,2BAAvB,CACA,OAASC,YAAT,KAA6B,uCAA7B,CACA,MAAO,qBAAP,CACA,OAASC,OAAT,KAAwB,0BAAxB,C,6IAEA,MAAO,IAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,cACTD,OAAO,EADE,CACzBE,WADyB,UACzBA,WADyB,eAEHN,QAAQ,CAAC,EAAD,CAFL,wCAE1BO,OAF0B,eAEjBC,UAFiB,eAIjCP,SAAS,CAAC,UAAM,CACdH,KAAK,CACFW,IADH,CACQ,kBADR,CAC4B,CAAEC,GAAG,CAAEJ,WAAW,CAACI,GAAnB,CAAwBC,IAAI,CAAE,cAA9B,CAD5B,EAEGC,IAFH,CAEQ,SAACC,GAAD,CAAS,CACbL,UAAU,CAACK,GAAG,CAACC,IAAL,CAAV,CACD,CAJH,EAKGC,KALH,CAKS,SAACC,GAAD,CAAS,CAAE,CALpB,EAMD,CAPQ,CAON,EAPM,CAAT,CAQA,GAAMC,CAAAA,YAAY,0FAAG,iBAAOC,MAAP,wIACbpB,CAAAA,KAAK,CACRW,IADG,CACE,oBADF,CACwB,CAC1BC,GAAG,CAAEJ,WAAW,CAACI,GADS,CAE1BS,YAAY,CAAED,MAAM,CAACC,YAFK,CAG1BC,kBAAkB,CAAEF,MAAM,CAACE,kBAHD,CAI1BC,WAAW,CAAEH,MAAM,CAACG,WAJM,CAK1BC,GAAG,CAAEJ,MAAM,CAACI,GALc,CAM1BC,WAAW,CAAEL,MAAM,CAACK,WANM,CADxB,EASHX,IATG,CASE,SAACC,GAAD,CAAS,CACb,GAAIW,CAAAA,CAAC,CAAC,CACJC,IAAI,CAACP,MAAM,CAACE,kBADR,CAEJM,MAAM,CAACR,MAAM,CAACG,WAFV,CAGJM,GAAG,CAACT,MAAM,CAACI,GAHP,CAIJM,IAAI,CAACV,MAAM,CAACC,YAJR,CAAN,CAMAX,UAAU,8BAAKD,OAAL,GAAaiB,CAAb,GAAV,CACD,CAjBG,EAkBHT,KAlBG,CAkBG,SAACC,GAAD,CAAS,CAAE,CAlBd,CADa,uDAAH,kBAAZC,CAAAA,YAAY,4CAAlB,CAqBA,mBACE,wCACE,KAAC,MAAD,IADF,cAEE,aAAK,SAAS,CAAC,eAAf,wBACE,yCADF,cAEE,aAAK,SAAS,CAAC,uBAAf,WACGV,OAAO,CAACsB,GAAR,CAAY,SAACX,MAAD,CAASY,GAAT,CAAiB,CAC5B,mBAAO,KAAC,YAAD,EAAwB,IAAI,CAAC,MAA7B,CAAoC,MAAM,CAAEZ,MAA5C,EAAmBY,GAAnB,CAAP,CACD,CAFA,CADH,cAIE,KAAC,YAAD,EAAc,IAAI,CAAC,KAAnB,CAAyB,MAAM,CAAEb,YAAjC,EAJF,GAFF,GAFF,GADF,CAcD,CA/CM","sourcesContent":["import axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport { Header } from \"../../utils/Header/Header\";\nimport { Record_Block } from \"../../utils/Record_Block/Record_Block\";\nimport \"./Create_Record.css\";\nimport { useAuth } from \"../../../Context/Context\";\n\nexport const Create_Record = () => {\n  const { currentUser } = useAuth();\n  const [records, setRecords] = useState([]);\n\n  useEffect(() => {\n    axios\n      .post(\"/backend/history\", { uid: currentUser.uid, type: \"manufacturer\" })\n      .then((res) => {\n        setRecords(res.data);\n      })\n      .catch((err) => {});\n  }, []);\n  const submitRecord = async (record) => {\n    await axios\n      .post(\"/backend/vaccreate\", {\n        uid: currentUser.uid,\n        vaccine_name: record.vaccine_name,\n        manufacturing_date: record.manufacturing_date,\n        expiry_date: record.expiry_date,\n        MRP: record.MRP,\n        private_key: record.private_key,\n      })\n      .then((res) => {\n        let r={\n          date:record.manufacturing_date,\n          expiry:record.expiry_date,\n          mrp:record.MRP,\n          name:record.vaccine_name,\n        }\n        setRecords([...records,r]);\n      })\n      .catch((err) => {});\n  };\n  return (\n    <>\n      <Header />\n      <div className=\"create_record\">\n        <h1>CREATE NEW RECORD</h1>\n        <div className=\"create_record_content\">\n          {records.map((record, idx) => {\n            return <Record_Block key={idx} type=\"show\" detail={record} />;\n          })}\n          <Record_Block type=\"add\" submit={submitRecord} />\n        </div>\n      </div>\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}